{"ast":null,"code":"(function (a, b) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = b(require(\"@babel/runtime/helpers/objectSpread\"), require(\"@babel/runtime/helpers/objectWithoutProperties\"), require(\"@babel/runtime/helpers/classCallCheck\"), require(\"@babel/runtime/helpers/createClass\"), require(\"@babel/runtime/helpers/possibleConstructorReturn\"), require(\"@babel/runtime/helpers/getPrototypeOf\"), require(\"@babel/runtime/helpers/inherits\"), require(\"@babel/runtime/helpers/assertThisInitialized\"), require(\"@babel/runtime/helpers/defineProperty\"), require(\"react\"), require(\"prop-types\")) : \"function\" == typeof define && define.amd ? define([\"@babel/runtime/helpers/objectSpread\", \"@babel/runtime/helpers/objectWithoutProperties\", \"@babel/runtime/helpers/classCallCheck\", \"@babel/runtime/helpers/createClass\", \"@babel/runtime/helpers/possibleConstructorReturn\", \"@babel/runtime/helpers/getPrototypeOf\", \"@babel/runtime/helpers/inherits\", \"@babel/runtime/helpers/assertThisInitialized\", \"@babel/runtime/helpers/defineProperty\", \"react\", \"prop-types\"], b) : (a = a || self, a.Img = b(a._objectSpread, a._objectWithoutProperties, a._classCallCheck, a._createClass, a._possibleConstructorReturn, a._getPrototypeOf, a._inherits, a._assertThisInitialized, a._defineProperty, a.React, a.propTypes));\n})(this, function (a, b, c, d, e, f, g, h, j, k, l) {\n  \"use strict\";\n\n  a = a && a.hasOwnProperty(\"default\") ? a[\"default\"] : a, b = b && b.hasOwnProperty(\"default\") ? b[\"default\"] : b, c = c && c.hasOwnProperty(\"default\") ? c[\"default\"] : c, d = d && d.hasOwnProperty(\"default\") ? d[\"default\"] : d, e = e && e.hasOwnProperty(\"default\") ? e[\"default\"] : e, f = f && f.hasOwnProperty(\"default\") ? f[\"default\"] : f, g = g && g.hasOwnProperty(\"default\") ? g[\"default\"] : g, h = h && h.hasOwnProperty(\"default\") ? h[\"default\"] : h, j = j && j.hasOwnProperty(\"default\") ? j[\"default\"] : j;\n\n  var m = \"default\" in k ? k[\"default\"] : k,\n      n = {},\n      o = {\n    loader: l.node,\n    unloader: l.node,\n    decode: l.bool,\n    src: l.oneOfType([l.string, l.array]),\n    container: l.func,\n    loaderContainer: l.func,\n    unloaderContainer: l.func\n  },\n      p = function (i) {\n    function k(a) {\n      var b;\n      c(this, k), b = e(this, f(k).call(this, a)), j(h(h(b)), \"srcToArray\", function (a) {\n        return (Array.isArray(a) ? a : [a]).filter(function (a) {\n          return a;\n        });\n      }), j(h(h(b)), \"onLoad\", function () {\n        n[b.sourceList[b.state.currentIndex]] = !0, b.i && b.setState({\n          isLoaded: !0\n        });\n      }), j(h(h(b)), \"onError\", function () {\n        if (n[b.sourceList[b.state.currentIndex]] = !1, !b.i) return !1;\n\n        for (var a, c = b.state.currentIndex + 1; c < b.sourceList.length; c++) {\n          if (a = b.sourceList[c], !(a in n)) {\n            b.setState({\n              currentIndex: c\n            });\n            break;\n          }\n\n          if (!0 === n[a]) return b.setState({\n            currentIndex: c,\n            isLoading: !1,\n            isLoaded: !0\n          }), !0;\n          !1 === n[a];\n        }\n\n        return c === b.sourceList.length ? b.setState({\n          isLoading: !1\n        }) : void b.loadImg();\n      }), j(h(h(b)), \"loadImg\", function () {\n        b.i = new Image(), b.i.src = b.sourceList[b.state.currentIndex], b.props.decode && b.i.decode ? b.i.decode().then(b.onLoad).catch(b.onError) : b.i.onload = b.onLoad, b.i.onerror = b.onError;\n      }), j(h(h(b)), \"unloadImg\", function () {\n        delete b.i.onerror, delete b.i.onload;\n\n        try {\n          delete b.i.src;\n        } catch (a) {}\n\n        delete b.i;\n      }), b.loaderContainer = a.loaderContainer || a.container, b.unloaderContainer = a.unloaderContainer || a.container, b.sourceList = b.srcToArray(b.props.src);\n\n      for (var d = 0; d < b.sourceList.length && !!(b.sourceList[d] in n); d++) {\n        if (!0 === n[b.sourceList[d]]) return b.state = {\n          currentIndex: d,\n          isLoading: !1,\n          isLoaded: !0\n        }, e(b);\n      }\n\n      return b.state = b.sourceList.length ? {\n        currentIndex: 0,\n        isLoading: !0,\n        isLoaded: !1\n      } : {\n        isLoading: !1,\n        isLoaded: !1\n      }, b;\n    }\n\n    return g(k, i), d(k, [{\n      key: \"componentDidMount\",\n      value: function value() {\n        this.state.isLoading && this.loadImg();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function value() {\n        this.i && this.unloadImg();\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function value(a) {\n        var b = this;\n        this.loaderContainer = a.loaderContainer || a.container, this.unloaderContainer = a.unloaderContainer || a.container;\n        var c = this.srcToArray(a.src),\n            d = c.filter(function (a) {\n          return -1 === b.sourceList.indexOf(a);\n        }),\n            e = this.sourceList.filter(function (a) {\n          return -1 === c.indexOf(a);\n        });\n\n        if (d.length || e.length) {\n          if (this.sourceList = c, !c.length) return this.setState({\n            isLoading: !1,\n            isLoaded: !1\n          });\n          this.setState({\n            currentIndex: 0,\n            isLoading: !0,\n            isLoaded: !1\n          }, this.loadImg);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function value() {\n        var c = this.props,\n            d = c.container,\n            e = c.loader,\n            f = c.unloader,\n            g = c.src,\n            h = c.decode,\n            i = c.loaderContainer,\n            j = c.unloaderContainer,\n            k = c.mockImage,\n            l = b(c, [\"container\", \"loader\", \"unloader\", \"src\", \"decode\", \"loaderContainer\", \"unloaderContainer\", \"mockImage\"]);\n\n        if (this.state.isLoaded) {\n          var n = a({}, {\n            src: this.sourceList[this.state.currentIndex]\n          }, l);\n          return d(m.createElement(\"img\", n));\n        }\n\n        return !this.state.isLoaded && this.state.isLoading ? e ? this.loaderContainer(e) : null : this.state.isLoaded || this.state.isLoading ? void 0 : f ? this.unloaderContainer(f) : null;\n      }\n    }]), k;\n  }(k.Component);\n\n  return j(p, \"defaultProps\", {\n    loader: !1,\n    unloader: !1,\n    decode: !0,\n    src: [],\n    container: function container(a) {\n      return a;\n    }\n  }), p.propTypes = {}, p;\n});","map":null,"metadata":{},"sourceType":"script"}